# ワールドメニュー

ワールドメニューでは、ワールドや、シンセサイザー、シーケンサーに関する設定を行うことができます。

* VRでは頭の後ろを掴むと手の位置に表示されます。
* デスクトップではQキーを押すと表示を切り替えます。

## WORLDタブ

ワールドに関する設定を行います。

* QvPen: QvPenの表示を切り替えます(グローバル)。
* Floor Collider: 床コライダーの高さを設定します(ローカル)。

## CONTROLタブ

* Instrument: シンセサイザーで編集するInstrumentを切り替えることができます(グローバル)。
* Sequence: シーケンサーの再生・停止を行うことができます(グローバル)。

## FILEタブ

作成したデータのセーブとロードができます。
データはVRChatのPersistenceを使用して保存され、ワールド退出後でもデータは保持されます。

### データ種類選択

* Song: 全てのInstrumentとシーケンサーの編集データをまとめて保存します。
* Instrument: 現在編集中のInstrumentを保存します。
* WAV: 波形データを保存します。
* Sequence: シーケンサーの編集データを保存します。

### ファイル選択

選択したデータの種類について、保存したファイルの一覧が表示されます。
ファイルの行には、ファイル名、更新日時、ファイルサイズが表示されます。
"New File..."を選択した場合は新しいファイルにデータを保存することができます。

### 操作ボタン

* Load: 選択したファイルをロードします。
  ダイアログが表示され、"Load"ボタンを押すとロードが完了します。
* Save: 選択したファイルにデータを保存します。
  ダイアログが表示され、新規ファイルの場合は"File Name"にファイル名を入力し、"Save"ボタンを押すと保存が完了します。
  既存のファイルに保存する場合は、"Save"ボタンを押すと上書き保存されます。
* Rename: 選択したファイルの名前を変更します。
  ダイアログが表示され、"File Name"に新しいファイル名を入力し、"Rename"ボタンを押すと名前が変更されます。
* Delete: 選択したファイルを削除します。
  ダイアログが表示され、"Delete"ボタンを押すと削除が完了します。

保存時にエラーが発生した場合は、ダイアログにエラーメッセージが表示されます。
"No file slots available."と表示される場合は、保存できる最大ファイル数の100ファイルの上限に達しているため、セーブするにはファイルを削除する必要があります。
"Total size exceeds maximum limit of 100 KB."と表示される場合は、セーブ時にデータの合計サイズが100KBを超えるため、
セーブするにはデータを削除して容量を確保する必要があります。

## IMPORTタブ

EXPORTタブで出力したデータをテキストボックスに貼り付けることで、データのロードを行うことができます。
テキストボックスに貼り付け後、Loadボタンを押すとロードが完了します。

エラー時にはダイアログにエラーメッセージが表示されます。

## EXPORTタブ

各データに対応するボタンを押すと、そのデータをテキストにしたものがテキストボックスに出力されます。

* Song: 全てのInstrumentとシーケンサーの編集データをまとめて出力します。
* Instrument: 現在編集中のInstrumentを出力します。
* WAV1, WAV2: 波形データを出力します。
* Sequence: シーケンサーの編集データを出力します。

Auto Saveをオンにすると、2分ごとに自動的にSongのセーブデータがVRChatのログに出力されます。
ログは `C:\Users\%USERNAME%\AppData\LocalLow\VRChat\VRChat` の中の `output_log_` から始まる名前のファイルに保存されます。

## UTILITYタブ

InstrumentとPatternについて、2つの項目の間で交換かコピーを行うことができます。

上部のタブでInstrumentとPatternのどちらを対象にするかを選択します。
FromとToで対象とする2つの番号を指定します。

Swapボタンを押すと、FromとToで指定した項目を入れ替えます。
この際、Instrumentの場合はPatternで指定されたInstrument番号も入れ替わり、Patternの場合はトラックで指定されたPattern番号も入れ替わります。
Copyボタンを押すと、Fromで指定した項目をToへコピーします。
